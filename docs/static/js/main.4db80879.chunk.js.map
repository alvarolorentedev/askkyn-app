{"version":3,"sources":["components/start/index.jsx","components/questionnaire/index.jsx","components/answers/index.jsx","service/questionnaire/create.js","service/questionnaire/join.js","service/index.js","App.jsx","reportWebVitals.js","index.js"],"names":["StartPage","navigate","finishedLoading","create","join","useState","name","setName","identifier","setIdentifier","useEffect","onCreate","a","result","success","onJoin","id","Button","className","onClick","Form","Control","type","placeholder","value","onChange","event","target","Start","props","QuestionnairePage","sessionId","questions","setQuestions","updateQuestion","indexToChange","field","map","question","index","Table","striped","hover","size","data-testid","answers","icon","answer","indexAnswer","indexQuestion","updateAnswer","indexToDelete","filter","_","Questionnaire","AnswersPage","username","Answers","idGeneratorFunction","Math","random","toString","replace","substr","currentTimestampGeneratorFunction","Date","now","db","idGenerator","timestampGenerator","_id","createdOn","put","players","get","currentRecord","PouchDB","createQuestionnaire","joinQuestionnaire","library","add","fab","far","fas","Loading","Component","rest","isLoading","setIsLoading","err","Modal","show","keyboard","backdrop","centered","Body","PublicRoute","App","Navbar","Brand","href","alt","src","width","height","default","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4db80879.chunk.js","sourcesContent":["import * as React from \"react\"\nimport { useEffect, useState } from \"react\"\nimport \"./index.scss\"\nimport { Button, Form } from \"react-bootstrap\"\n\nconst StartPage = ({ navigate, finishedLoading, create, join }) => {\n  const [name, setName] = useState(\"\");\n  const [identifier, setIdentifier] = useState(\"\");\n  useEffect(finishedLoading ,[finishedLoading]);\n\n  const onCreate = async () => {\n      const result = await create()\n      if (result.success)\n        navigate(`session/${result.identifier}/questionnaire`)\n  }\n\n  const onJoin = async () => {\n      const result = await join(identifier, name)\n      if (result.success)\n        navigate(`session/${identifier}/answers/${name}`)\n  }\n  return (<div id=\"container\">\n    <Button className=\"btn-start\" onClick={onCreate}> Create New</Button>\n    <Form.Control className=\"form-control-start\" type=\"text\" placeholder=\"Enter Name\" value={ name } onChange={(event) => setName(event.target.value)} />\n    <Form.Control className=\"form-control-start\" type=\"text\" placeholder=\"Enter Identifier\" value={ identifier } onChange={(event) => setIdentifier(event.target.value)} />\n    <Button className=\"btn-start\" onClick={onJoin}> Join </Button>\n  </div>)\n}\n\nexport const Start = (props) => <StartPage {...props} />;\n","import * as React from \"react\"\nimport { useEffect, useState } from \"react\"\nimport \"./index.scss\"\nimport { Button, Table, Form } from \"react-bootstrap\"\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\n\nconst QuestionnairePage = ({ sessionId, finishedLoading }) => {\n  const [questions, setQuestions] = useState([]);\n  useEffect(finishedLoading ,[finishedLoading]);\n\n  const addQuestions = () => {\n    setQuestions([...questions, {\n      question: \"\",\n      answers: [],\n    }])\n  }\n  const removeQuestions = (indexToDelete) => setQuestions(questions.filter((_, index) =>  index !== indexToDelete))\n  const updateQuestion = (indexToChange, field, value) => \n    setQuestions(questions.map((question, index) =>  indexToChange === index ? {...question, [field]: value } : question ))\n\n  const updateAnswer = (indexQuestion, indexAnswer, field, value) => \n    updateQuestion(indexQuestion, \"answers\", questions[indexQuestion].answers.map((answer, index) => indexAnswer === index ? {...answer, [field]: value } : answer ))\n  const AddAnswer = (indexQuestion) => \n    updateQuestion(indexQuestion, \"answers\", [...questions[indexQuestion].answers, { value: \"\" }])\n  const removeAnswer = (indexQuestion, indexToDelete) => \n    updateQuestion(indexQuestion, \"answers\", questions[indexQuestion].answers.filter((_, index) =>  index !== indexToDelete))\n\n  return (<>\n    <Table striped hover size=\"sm\" data-testid=\"main-table\">\n        <thead>\n            <tr>\n                <th>Question</th>\n                <th>Answers</th>\n                <th><div className=\"actions\">\n                    Actions\n                    <Button onClick={addQuestions} ><FontAwesomeIcon icon={['fas', 'plus']} /></Button>\n                </div></th>\n            </tr>\n        </thead>\n        <tbody>\n          {\n            questions.map((question, index) => \n              (<tr key={`question_${index}`}>\n                <td>\n                  <Form.Control type=\"text\" placeholder=\"Enter Question\" value={question.question} onChange={(event) => updateQuestion(index, \"question\", event.target.value)} />\n                </td>\n                <td>{question.answers.map((answer, indexAnswer) => \n                  (<>\n                    <Form.Control type=\"text\" placeholder=\"Enter Answer\" value={answer.value} onChange={(event) => updateAnswer(index, indexAnswer, \"value\", event.target.value)} />\n                    <Button onClick={() => removeAnswer(index, indexAnswer)}><FontAwesomeIcon icon={['fas', 'trash']} /></Button>\n                  </>))}\n                </td>\n                <td>\n                  <div className=\"actions\">\n                    <Button onClick={() => updateQuestion(index, \"answers\", [...question.answers, { value: \"\" }])}><FontAwesomeIcon icon={['fas', 'plus']} /></Button>\n                    <Button onClick={() => removeQuestions(index)}><FontAwesomeIcon icon={['fas', 'trash']} /></Button>\n                  </div>\n                </td>\n              </tr>))\n          }\n        </tbody>\n    </Table>\n  </>)\n}\n\nexport const Questionnaire = (props) => <QuestionnairePage {...props} />;\n","import * as React from \"react\"\nimport { useEffect } from \"react\"\nimport \"./index.scss\"\n\nconst AnswersPage = ({ sessionId, username, finishedLoading }) => {\n  useEffect(finishedLoading ,[finishedLoading]);\n\n  return (<div id=\"container\">Answers: {sessionId} for {username}</div>)\n}\n\nexport const Answers = (props) => <AnswersPage {...props} />;\n","const idGeneratorFunction = () => Math.random().toString(36).replace('0.', '').substr(1,5)\nconst currentTimestampGeneratorFunction = () => Date.now()\n\nexport const create = async (db, idGenerator=idGeneratorFunction, timestampGenerator=currentTimestampGeneratorFunction) => {\n    const _id = idGenerator()\n    var createdOn = timestampGenerator()\n    try {\n        const result = await db.put({_id, createdOn, players: [], questions: []})\n        return({\n            success: true,\n            identifier: _id\n        })\n    } catch (error) {\n        return({\n            success: false\n        })\n    }\n}","export const join = async (db, identifier, username) => {\n    try {\n        const currentRecord = await db.get(identifier)\n        await db.put({...currentRecord, players: [...currentRecord.players, username]})\n        return({\n            success: true\n        })\n    } catch (error) {\n        return({\n            success: false\n        })\n    }\n}","import PouchDB from 'pouchdb'\nimport { create } from './questionnaire/create'\nimport { join } from './questionnaire/join'\n\nconst backendBaseUrl = process.env.NODE_ENV === 'production' ? \"https://askkyn.herokuapp.com\" : \"http://localhost:8080\"\n\nexport const db = new PouchDB(`${backendBaseUrl}/db/askkyn`);\nexport const createQuestionnaire = () => create(db)\nexport const joinQuestionnaire = (identifier, username) => join(db, identifier, username)\n","import React from \"react\"\nimport { Router, navigate } from \"@reach/router\"\nimport {Navbar, Modal} from \"react-bootstrap\"\nimport { Start } from \"./components/start/index.jsx\"\nimport { Questionnaire } from \"./components/questionnaire/index.jsx\"\nimport { Answers } from \"./components/answers/index.jsx\"\nimport { useState } from 'react'\nimport { Grid } from 'svg-loaders-react'\nimport './App.scss'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport { far } from \"@fortawesome/free-regular-svg-icons\"\nimport { fas } from \"@fortawesome/free-solid-svg-icons\"\nimport { createQuestionnaire, joinQuestionnaire, db } from './service'\n\nlibrary.add(fab, far, fas)\n\n\nconst Loading = ({ Component, ...rest }) =>{\n  const [isLoading,setIsLoading] = useState(true);\n  return (<>\n    <Component {...rest} finishedLoading={(err) => {\n      setIsLoading(false)\n      if(err)\n        navigate(`/error/${err}`)\n    }} />\n    <Modal\n        show={isLoading}\n        keyboard={false}\n        backdrop=\"static\"\n        size=\"sm\"\n        centered\n      >\n        <Modal.Body>\n          <Grid />\n        </Modal.Body>\n      </Modal>\n    </>)\n}\n\nconst PublicRoute = ({ ...rest }) => (\n  <Loading {...rest} />\n);\n\nconst App = () => {\n  return (<div id=\"main\">\n    <Navbar>\n      <Navbar.Brand href=\"/\">\n        <img\n          alt=\"\"\n          src=\"./logo.webp\"\n          width=\"42\"\n          height=\"42\"\n          className=\"d-inline-block align-top\"\n        /> Askkyn\n      </Navbar.Brand>\n    </Navbar>\n   <Router>\n     <PublicRoute default path=\"default\" Component={Start} create={createQuestionnaire} join={joinQuestionnaire} />\n     <PublicRoute path=\"session/:sessionId/questionnaire\" Component={Questionnaire} db={db} />\n     <PublicRoute path=\"session/:sessionId/answers/:username\" Component={Answers} db={db} />\n   </Router>\n </div>)\n };\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport reportWebVitals from './reportWebVitals'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}