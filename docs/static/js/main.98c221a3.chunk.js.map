{"version":3,"sources":["components/start/index.jsx","components/questionnaire/index.jsx","components/answers/index.jsx","service/questionnaire/create.js","service/questionnaire/join.js","service/index.js","App.jsx","reportWebVitals.js","index.js"],"names":["StartPage","navigate","finishedLoading","create","join","useState","name","setName","identifier","setIdentifier","useEffect","onCreate","a","result","success","onJoin","id","Button","onClick","Form","Control","type","placeholder","value","onChange","event","target","Start","props","QuestionnairePage","sessionId","Questionnaire","AnswersPage","username","Answers","idGeneratorFunction","Math","random","toString","replace","substr","currentTimestampGeneratorFunction","Date","now","db","idGenerator","timestampGenerator","_id","createdOn","put","players","questions","get","currentRecord","PouchDB","createQuestionnaire","joinQuestionnaire","library","add","fab","far","fas","Loading","Component","rest","isLoading","setIsLoading","err","Modal","show","keyboard","backdrop","size","centered","Body","PublicRoute","App","Navbar","Brand","href","alt","src","width","height","className","default","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98c221a3.chunk.js","sourcesContent":["import * as React from \"react\"\nimport { useEffect, useState } from \"react\"\nimport \"./index.scss\"\nimport { Button, Form } from \"react-bootstrap\"\n\nconst StartPage = ({ navigate, finishedLoading, create, join }) => {\n  const [name, setName] = useState(\"\");\n  const [identifier, setIdentifier] = useState(\"\");\n  useEffect(finishedLoading ,[finishedLoading]);\n\n  const onCreate = async () => {\n      const result = await create()\n      if (result.success)\n        navigate(`session/${result.identifier}/questionnaire`)\n  }\n\n  const onJoin = async () => {\n      const result = await join(identifier, name)\n      if (result.success)\n        navigate(`session/${identifier}/answers/${name}`)\n  }\n  return (<div id=\"container\">\n    <Button onClick={onCreate}> Create New</Button>\n    <Form.Control type=\"text\" placeholder=\"Enter Name\" value={ name } onChange={(event) => setName(event.target.value)} />\n    <Form.Control type=\"text\" placeholder=\"Enter Identifier\" value={ identifier } onChange={(event) => setIdentifier(event.target.value)} />\n    <Button onClick={onJoin}> Join </Button>\n  </div>)\n}\n\nexport const Start = (props) => <StartPage {...props} />;\n","import * as React from \"react\"\nimport { useEffect } from \"react\"\nimport \"./index.scss\"\n\nconst QuestionnairePage = ({ sessionId, finishedLoading }) => {\n  useEffect(finishedLoading ,[finishedLoading]);\n\n  return (<div id=\"container\">Questionnaire: {sessionId}</div>)\n}\n\nexport const Questionnaire = (props) => <QuestionnairePage {...props} />;\n","import * as React from \"react\"\nimport { useEffect } from \"react\"\nimport \"./index.scss\"\n\nconst AnswersPage = ({ sessionId, username, finishedLoading }) => {\n  useEffect(finishedLoading ,[finishedLoading]);\n\n  return (<div id=\"container\">Answers: {sessionId} for {username}</div>)\n}\n\nexport const Answers = (props) => <AnswersPage {...props} />;\n","const idGeneratorFunction = () => Math.random().toString(36).replace('0.', '').substr(1,5)\nconst currentTimestampGeneratorFunction = () => Date.now()\n\nexport const create = async (db, idGenerator=idGeneratorFunction, timestampGenerator=currentTimestampGeneratorFunction) => {\n    const _id = idGenerator()\n    var createdOn = timestampGenerator()\n    try {\n        const result = await db.put({_id, createdOn, players: [], questions: []})\n        return({\n            success: true,\n            identifier: _id\n        })\n    } catch (error) {\n        return({\n            success: false\n        })\n    }\n}","export const join = async (db, identifier, username) => {\n    try {\n        const currentRecord = await db.get(identifier)\n        await db.put({...currentRecord, players: [...currentRecord.players, username]})\n        return({\n            success: true\n        })\n    } catch (error) {\n        return({\n            success: false\n        })\n    }\n}","import PouchDB from 'pouchdb'\nimport { create } from './questionnaire/create'\nimport { join } from './questionnaire/join'\n\nconst backendBaseUrl = process.env.NODE_ENV === 'production' ? \"https://askkyn.herokuapp.com\" : \"http://localhost:8080\"\n\nexport const db = new PouchDB(`${backendBaseUrl}/db/askkyn`);\nexport const createQuestionnaire = () => create(db)\nexport const joinQuestionnaire = (identifier, username) => join(db, identifier, username)\n","import React from \"react\"\nimport { Router, navigate } from \"@reach/router\"\nimport {Navbar, Modal} from \"react-bootstrap\"\nimport { Start } from \"./components/start/index.jsx\"\nimport { Questionnaire } from \"./components/questionnaire/index.jsx\"\nimport { Answers } from \"./components/answers/index.jsx\"\nimport { useState } from 'react'\nimport { Grid } from 'svg-loaders-react'\nimport './App.scss'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport { far } from \"@fortawesome/free-regular-svg-icons\"\nimport { fas } from \"@fortawesome/free-solid-svg-icons\"\nimport { createQuestionnaire, joinQuestionnaire, db } from './service'\n\nlibrary.add(fab, far, fas)\n\n\nconst Loading = ({ Component, ...rest }) =>{\n  const [isLoading,setIsLoading] = useState(true);\n  return (<>\n    <Component {...rest} finishedLoading={(err) => {\n      setIsLoading(false)\n      if(err)\n        navigate(`/error/${err}`)\n    }} />\n    <Modal\n        show={isLoading}\n        keyboard={false}\n        backdrop=\"static\"\n        size=\"sm\"\n        centered\n      >\n        <Modal.Body>\n          <Grid />\n        </Modal.Body>\n      </Modal>\n    </>)\n}\n\nconst PublicRoute = ({ ...rest }) => (\n  <Loading {...rest} />\n);\n\nconst App = () => {\n  return (<div id=\"main\">\n    <Navbar>\n      <Navbar.Brand href=\"/\">\n        <img\n          alt=\"\"\n          src=\"./logo.webp\"\n          width=\"42\"\n          height=\"42\"\n          className=\"d-inline-block align-top\"\n        /> Askkyn\n      </Navbar.Brand>\n    </Navbar>\n   <Router>\n     <PublicRoute default path=\"default\" Component={Start} create={createQuestionnaire} join={joinQuestionnaire} />\n     <PublicRoute path=\"session/:sessionId/questionnaire\" Component={Questionnaire} db={db} />\n     <PublicRoute path=\"session/:sessionId/answers/:username\" Component={Answers} db={db} />\n   </Router>\n </div>)\n };\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport reportWebVitals from './reportWebVitals'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}